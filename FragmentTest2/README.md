# Fragment2

**敵は倒す！** か，**共存！**で作るのがだいぶ異なる．
将来的には両方自由にできるようにはしたいけどまず実装するのはどっちかを決めた方がいい
アプリのデータベースはアプリを変更して走らせてもそのまま．やから気にせず楽しんで作ればいい！

## 全体

- 個人のデータはサーバーのデータベースに登録する．定期的に通信を行う．
- BaseFragmentの上にお金，DP等を表示する．
- ユーザーごとに交流的なものをできるようにする．
- ダンジョンの脅威度とかで敵の数が増える
- ダンジョンの作り直しをできるようにする．***1**
- ダンジョンコア・自分が倒されるとゲームオーバー ***2**

## タイトル画面

- スタートボタンをログインしないと押せないようにする．
- アプリ（データベース）の初期化をできるボタン作る．
- 基本的にはデバイスのDBを利用する．そのためスタートボタンを押した後に通信する必要は無し．
- ベースでログイン出来るやつを作って（ホーム画面等で設定）自動ログインを有効にしたい．

## ホーム画面

- 初めに開いたときに前回のアプリ時間から今の時間の差によって，放置の報酬を計算・表示する．***3**
- ユーザーのステータス一覧とか見れる．詳細は各項目で

## ダンジョン画面

- DPを表示する
- ダンジョンの階層・見た目・敵味方を表示
- DPを使用して階層の追加や，罠などを配置する．罠の再利用費用は考える．
- ダンジョンの最小単位はマスごとで管理．（移動とか）
- とりあえず敵味方はランダムに移動して敵と出会えば戦闘．
- １マスには1パーティーを表示する．
- 味方のモンスターには指示を出せる．
- 町作れるようにしよう．
- 敵を倒すとお金とDPをもらえる．（装備品はどうしましょう）

## モンスター画面

- DPを使用してモンスターの召喚・強化．
- モンスターの訓練．

## 外の世界

### 町

- お金を使える．
- 冒険者ギルド的なの．お金稼げる．

### 森とかほかのダンジョン？

- ダンジョン攻略できる．
- モンスターを倒せる．
- 自分自身・連れて行ったモンスターを強化できる．ただし，その間もダンジョンの進行はすすむ

## 注意書き

### *1

#### 引き継げるもの

- DP
- モンスター
- お金

#### 引き継げないもの

- ダンジョン
- 脅威度

### *2

ゲームオーバーの場合について考える．今考えてるものとしては，

- DPリセット
- モンスターリセット
- お金リセット
- ダンジョンリセット
- 自分のレベルダウン

ただ，これやとゲームオーバーしてもある程度成長してたらあんまり不利にならんかな？って感じ．

### *3

終了の時間を取得できるならそのままでいいけど，もしできないなら定期的に時間を取得して保存．保存をアップデートする．
